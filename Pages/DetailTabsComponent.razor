@inject HttpClient Http
@inject ApiKey fmpApiKey

@if (balancesheet == null || incomestatement == null || cashflowstatement == null || profiles == null)
{
    
} else
{

    <div class="tabs">

      <input type="radio" id="tab1" name="tab-control" checked>
      <input type="radio" id="tab2" name="tab-control">
      <input type="radio" id="tab3" name="tab-control">  
      <input type="radio" id="tab4" name="tab-control">
    
        <ul>
            
            <li title="Profile">
                <label for="tab1" role="button">
                    <svg class="svg-icon" viewBox="0 0 20 20">
	                    <path d="M14.467,1.771H5.533c-0.258,0-0.47,0.211-0.47,0.47v15.516c0,0.414,0.504,0.634,0.802,0.331L10,13.955l4.136,4.133c0.241,0.241,0.802,0.169,0.802-0.331V2.241C14.938,1.982,14.726,1.771,14.467,1.771 M13.997,16.621l-3.665-3.662c-0.186-0.186-0.479-0.186-0.664,0l-3.666,3.662V2.711h7.994V16.621z"></path>
                    </svg>
                    <br>
                    <span>Profile</span>
                </label>
            </li>

            <li title="Income Statement">
                <label for="tab2" role="button">
                    <svg class="svg-icon" viewBox="0 0 20 20">
                        <path d="M17.431,2.156h-3.715c-0.228,0-0.413,0.186-0.413,0.413v6.973h-2.89V6.687c0-0.229-0.186-0.413-0.413-0.413H6.285c-0.228,0-0.413,0.184-0.413,0.413v6.388H2.569c-0.227,0-0.413,0.187-0.413,0.413v3.942c0,0.228,0.186,0.413,0.413,0.413h14.862c0.228,0,0.413-0.186,0.413-0.413V2.569C17.844,2.342,17.658,2.156,17.431,2.156 M5.872,17.019h-2.89v-3.117h2.89V17.019zM9.587,17.019h-2.89V7.1h2.89V17.019z M13.303,17.019h-2.89v-6.651h2.89V17.019z M17.019,17.019h-2.891V2.982h2.891V17.019z"></path>
                    </svg>
                    <br>
                    <span>Income Statement</span>
                </label>
            </li>

            <li title="Balance Sheet">
                <label for="tab3" role="button">
                    <svg class="svg-icon" viewBox="0 0 20 20">
	                    <path d="M10.281,1.781C5.75,1.781,2.062,5.469,2.062,10s3.688,8.219,8.219,8.219S18.5,14.531,18.5,10S14.812,1.781,10.281,1.781M10.714,2.659c3.712,0.216,6.691,3.197,6.907,6.908h-6.907V2.659z M10.281,17.354c-4.055,0-7.354-3.298-7.354-7.354c0-3.911,3.067-7.116,6.921-7.341V10c0,0.115,0.045,0.225,0.127,0.305l5.186,5.189C13.863,16.648,12.154,17.354,10.281,17.354M15.775,14.882l-4.449-4.449h6.295C17.522,12.135,16.842,13.684,15.775,14.882"></path>
                    </svg>
                    <br>
                    <span>Balance Sheet</span>
                </label>
            </li>

            <li title="Cashflow Statement">
                <label for="tab4" role="button">
                    <svg class="svg-icon" viewBox="0 0 20 20">
	                    <path d="M8.627,7.885C8.499,8.388,7.873,8.101,8.13,8.177L4.12,7.143c-0.218-0.057-0.351-0.28-0.293-0.498c0.057-0.218,0.279-0.351,0.497-0.294l4.011,1.037C8.552,7.444,8.685,7.667,8.627,7.885 M8.334,10.123L4.323,9.086C4.105,9.031,3.883,9.162,3.826,9.38C3.769,9.598,3.901,9.82,4.12,9.877l4.01,1.037c-0.262-0.062,0.373,0.192,0.497-0.294C8.685,10.401,8.552,10.18,8.334,10.123 M7.131,12.507L4.323,11.78c-0.218-0.057-0.44,0.076-0.497,0.295c-0.057,0.218,0.075,0.439,0.293,0.495l2.809,0.726c-0.265-0.062,0.37,0.193,0.495-0.293C7.48,12.784,7.35,12.562,7.131,12.507M18.159,3.677v10.701c0,0.186-0.126,0.348-0.306,0.393l-7.755,1.948c-0.07,0.016-0.134,0.016-0.204,0l-7.748-1.948c-0.179-0.045-0.306-0.207-0.306-0.393V3.677c0-0.267,0.249-0.461,0.509-0.396l7.646,1.921l7.654-1.921C17.91,3.216,18.159,3.41,18.159,3.677 M9.589,5.939L2.656,4.203v9.857l6.933,1.737V5.939z M17.344,4.203l-6.939,1.736v9.859l6.939-1.737V4.203z M16.168,6.645c-0.058-0.218-0.279-0.351-0.498-0.294l-4.011,1.037c-0.218,0.057-0.351,0.28-0.293,0.498c0.128,0.503,0.755,0.216,0.498,0.292l4.009-1.034C16.092,7.085,16.225,6.863,16.168,6.645 M16.168,9.38c-0.058-0.218-0.279-0.349-0.498-0.294l-4.011,1.036c-0.218,0.057-0.351,0.279-0.293,0.498c0.124,0.486,0.759,0.232,0.498,0.294l4.009-1.037C16.092,9.82,16.225,9.598,16.168,9.38 M14.963,12.385c-0.055-0.219-0.276-0.35-0.495-0.294l-2.809,0.726c-0.218,0.056-0.351,0.279-0.293,0.496c0.127,0.506,0.755,0.218,0.498,0.293l2.807-0.723C14.89,12.825,15.021,12.603,14.963,12.385"></path>
                    </svg>
                    <br>
                    <span>Cashflow Statement</span>
                </label>
            </li>

        </ul>
  
      <div class="slider"><div class="indicator"></div></div>
      <div class="content">
    
          <section>
            <div class="container">
                <div class="h3">Profile</div>
                <br>
                <h5>@profiles.First().companyName</h5>
                <hr />
                <div class="listcontainer">
                    <ol>
                        <li>
                            CEO: @profiles.First().ceo
                        </li>
                        <li>
                            Sector: @profiles.First().sector
                        </li>
                        <li>
                            Industry: @profiles.First().industry
                        </li>
                        <li>
                            Full Time Employees: @profiles.First().fullTimeEmployees
                        </li>
                    </ol>
                    <ol>
                        <li>
                            @profiles.First().address
                        </li>
                        <li>
                            @profiles.First().city, @profiles.First().state @profiles.First().zip 
                        </li>
                        <li>
                            @profiles.First().country
                        </li>
                        <li>
                            <a href="tel:@profiles.First().phone">+@profiles.First().phone</a>
                        </li>
                        <li>
                            <a href="@profiles.First().website" target="_blank">@profiles.First().website</a>
                        </li>
                    </ol>
                </div>
                <hr />
                <h5>Description</h5>
                <p>
                    @profiles.First().description
                </p>
            </div>
        </section>

        <section>
            
            <div class="table-responsive container">
                <div class="h3">Income Statement</div>
                <table class="table table-bordered table-hover table-striped caption-top">
                    <caption><i style="color: #428BFF;">All numbers in thousands</i></caption>
                    <thead>
                        <tr>
                            <th scope="col" class="breakdown">Breakdown</th>
                            @foreach (var report in incomestatement)
                            {
                                <th scope="col">@report.calendarYear</th>
                            }
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Revenue</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.revenue)</td>
                            }
                        </tr>
                        
                        <tr>
                            <th scope="row">Cost Of Revenue</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.costOfRevenue)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Gross Profit</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.grossProfit)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Gross Profit Ratio</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.grossProfitRatio)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Research And Development Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.researchAndDevelopmentExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">General And Administrative Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.generalAndAdministrativeExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Selling And Marketing Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.sellingAndMarketingExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Selling General And Administrative Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.sellingGeneralAndAdministrativeExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.otherExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Operating Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.operatingExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Cost And Expenses</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.costAndExpenses)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Interest Income</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.interestIncome)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Interest Expense</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.interestExpense)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Depreciation And Amortization</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.depreciationAndAmortization)</td>
                            }
                        </tr>
                        
                        <tr>
                            <th scope="row">EBITDA</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.ebitda)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">EBITDA Ratio</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.ebitdaratio)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Operating Income</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.operatingIncome)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Operating Income Ratio</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.operatingIncomeRatio)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Other Income Expenses Net</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.totalOtherIncomeExpensesNet)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Income Before Tax</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.incomeBeforeTax)</td>
                            }
                        </tr>
                        
                        <tr>
                            <th scope="row">Income Before Tax Ratio</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.incomeBeforeTaxRatio)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Income Tax Expense</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.incomeTaxExpense)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Net Income</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.netIncome)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Net Income Ratio</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.netIncomeRatio)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">EPS</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.eps)</td>
                            }
                        </tr>
                        
                        <tr>
                            <th scope="row">EPS Diluted</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.epsdiluted)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Weighted Average Shs Out</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.weightedAverageShsOut)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Weighted Average Shs Out Dil</th>
                            @foreach (var report in incomestatement)
                            {
                                <td>@StyleNumber(@report.weightedAverageShsOutDil)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Link</th>
                            @foreach (var report in incomestatement)
                            {
                                <td><a href="@report.finalLink" target="_blank">Link</a></td>
                            }
                        </tr>

                    </tbody>
                </table>
            </div>

        </section>

        <section>
            <h2>Balance Sheet</h2>
            <div class="table-responsive container">
                <div class="h3">Balance Sheet</div>
                <table class="table table-bordered table-hover table-striped caption-top">
                    <caption><i>All numbers in thousands</i></caption>
                    <thead>
                        <tr>
                            <th scope="col" class="breakdown">Breakdown</th>
                            @foreach (var report in balancesheet)
                            {
                                <th scope="col">@report.calendarYear</th>
                            }
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <th scope="row">Cash And Cash Equivalents</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.cashAndCashEquivalents)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Short Term Investments</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.shortTermInvestments)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Cash And Short Term Investments</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.cashAndShortTermInvestments)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Net Receivables</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.netReceivables)</td>
                            }
                        </tr>


                        <tr>
                            <th scope="row">Inventory</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.inventory)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Current Assets</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.otherCurrentAssets)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Current Assets</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalCurrentAssets)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Property Plant Equipment Net</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.propertyPlantEquipmentNet)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Goodwill</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.goodwill)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Intangible Assets</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.intangibleAssets)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Long Term Investments</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.longTermInvestments)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Assets</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalAssets)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Short Term Debt</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.shortTermDebt)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Current Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.otherCurrentLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Current Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalCurrentLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Long Term Debt</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.longTermDebt)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Non Current Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.otherNonCurrentLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Non Current Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalNonCurrentLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.otherLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Liabilities</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalLiabilities)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Retained Earnings</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.retainedEarnings)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Other Total Stockholders Equity</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.othertotalStockholdersEquity)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Stockholders Equity</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalStockholdersEquity)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Liabilities And Stockholders Equity</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalLiabilitiesAndStockholdersEquity)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Equity</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalEquity)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Liabilities And Total Equity</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalLiabilitiesAndTotalEquity)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Investments</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalInvestments)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Total Debt</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.totalDebt)</td>
                            }
                        </tr>
                
                        <tr>
                            <th scope="row">Net Debt</th>
                            @foreach (var report in balancesheet)
                            {
                                <td>@StyleNumber(@report.netDebt)</td>
                            }
                        </tr>

                        <tr>
                            <th scope="row">Link</th>
                            @foreach (var report in balancesheet)
                            {
                                <td><a href="@report.finalLink" target="_blank">Link</a></td>
                            }
                        </tr>

                    </tbody>
                </table>
            </div>

        </section>
    
        <section>
              
        <div class="table-responsive container">
        <div class="h3">Cashflow Statement</div>
        <table class="table table-bordered table-hover table-striped caption-top">
            <caption><i>All numbers in thousands</i></caption>
            <thead>
                <tr>
                    <th scope="col" class="breakdown">Breakdown</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <th scope="col">@report.calendarYear</th>
                    }
                </tr>
            </thead>
            <tbody>

                <tr>
                    <th scope="row">Net Income</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.netIncome)</td>
                    }
                </tr>
                
                <tr>
                    <th scope="row">Depreciation And Amortization</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.depreciationAndAmortization)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Deferred Income Tax</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.deferredIncomeTax)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Stock Based Compensation</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.stockBasedCompensation)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Change In Working Capital</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.changeInWorkingCapital)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Accounts Receivables</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.accountsReceivables)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Inventory</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.inventory)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Accounts Payables</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.accountsPayables)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Other Working Capital</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.otherWorkingCapital)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Other Non Cash Items</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.otherNonCashItems)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Net Cash Provided By Operating Activities</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.netCashProvidedByOperatingActivities)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Investments In Property Plant And Equipment</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.investmentsInPropertyPlantAndEquipment)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Acquisitions Net</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.acquisitionsNet)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Purchases Of Investments</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.purchasesOfInvestments)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Sales Maturities Of Investments</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.salesMaturitiesOfInvestments)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Other Investing Activites</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.otherInvestingActivites)</td>
                    }
                </tr>
                
                <tr>
                    <th scope="row">Net Cash Used For Investing Activites</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.netCashUsedForInvestingActivites)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Debt Repayment</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.debtRepayment)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Common Stock Issued</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.commonStockIssued)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Common Stock Repurchased</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.commonStockRepurchased)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Dividends Paid</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.dividendsPaid)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Other Financing Activites</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.otherFinancingActivites)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Net Cash Used Provided By Financing Activities</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.netCashUsedProvidedByFinancingActivities)</td>
                    }
                </tr>
                
                <tr>
                    <th scope="row">Effect Of Forex Changes On Cash</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.effectOfForexChangesOnCash)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Net Change In Cash</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.netChangeInCash)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Cash At End Of Period</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.cashAtEndOfPeriod)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Cash At Beginning Of Period</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.cashAtBeginningOfPeriod)</td>
                    }
                </tr>
                
                <tr>
                    <th scope="row">Operating Cash Flow</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.operatingCashFlow)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Capital Expenditure</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.capitalExpenditure)</td>
                    }
                </tr>

                <tr>
                    <th scope="row">Free Cash Flow</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td>@StyleNumber(@report.freeCashFlow)</td>
                    }
                </tr>
                
                <tr>
                    <th scope="row">Link</th>
                    @foreach (var report in cashflowstatement)
                    {
                        <td><a href="@report.finalLink" target="_blank">Link</a></td>
                    }
                </tr>

            </tbody>
        </table>
    </div>

        </section>

      </div>
    </div>
}

@code {
    [Parameter]
    public string? tickerName { get; set; }

    private BSReport[]? balancesheet;
    private ISReport[]? incomestatement;
    private CFReport[]? cashflowstatement;
    private Profile[]? profiles;

    protected override async Task OnInitializedAsync()
    {
        balancesheet = await Http.GetFromJsonAsync<BSReport[]>("balance-sheet-statement/" + tickerName + "?limit=120&apikey=" + fmpApiKey.myApiKey);
        incomestatement = await Http.GetFromJsonAsync<ISReport[]>("income-statement/" + tickerName + "?limit=120&apikey=" + fmpApiKey.myApiKey);
        cashflowstatement = await Http.GetFromJsonAsync<CFReport[]>("cash-flow-statement/" + tickerName + "?limit=120&apikey=" + fmpApiKey.myApiKey);
        profiles = await Http.GetFromJsonAsync<Profile[]>("profile/" + tickerName + "?apikey=" + fmpApiKey.myApiKey);
    }
    
    public class ISReport
    {
        public DateTime Date { get; set; }
        public string? symbol { get; set; }
        public string? reportedCurrency { get; set; }
        public string? cik { get; set; }
        public string? fillingDate { get; set; }
        public string? acceptedDate { get; set; }
        public string? calendarYear { get; set; }
        public string? period { get; set; }
        public double revenue { get; set; }
        public double costOfRevenue { get; set; }
        public double grossProfit { get; set; }
        public double grossProfitRatio { get; set; }
        public double researchAndDevelopmentExpenses { get; set; }
        public double generalAndAdministrativeExpenses { get; set; }
        public double sellingAndMarketingExpenses { get; set; }
        public double sellingGeneralAndAdministrativeExpenses { get; set; }
        public double otherExpenses { get; set; }
        public double operatingExpenses { get; set; }
        public double costAndExpenses { get; set; }
        public double interestIncome { get; set; }
        public double interestExpense { get; set; }
        public double depreciationAndAmortization { get; set; }
        public double ebitda { get; set; }
        public double ebitdaratio { get; set; }
        public double operatingIncome { get; set; }
        public double operatingIncomeRatio { get; set; }
        public double totalOtherIncomeExpensesNet { get; set; }
        public double incomeBeforeTax { get; set; }
        public double incomeBeforeTaxRatio { get; set; }
        public double incomeTaxExpense { get; set; }
        public double netIncome { get; set; }
        public double netIncomeRatio { get; set; }
        public double eps { get; set; }
        public double epsdiluted { get; set; }
        public double weightedAverageShsOut { get; set; }
        public double weightedAverageShsOutDil { get; set; }
        public string? link { get; set; }
        public string? finalLink { get; set; }
    }

    public class Profile
    {
        public double beta { get; set; }
        public string? companyName { get; set; }
        public string? isin { get; set; }
        public string? exchange { get; set; }
        public string? exchangeShortName { get; set; }
        public string? industry { get; set; }
        public string? website { get; set; }
        public string? description { get; set; }
        public string? ceo { get; set; }
        public string? sector { get; set; }
        public string? country { get; set; }
        public string? fullTimeEmployees { get; set; }
        public string? phone { get; set; }
        public string? address { get; set; }
        public string? city { get; set; }
        public string? state { get; set; }
        public string? zip { get; set; }
        public string? image { get; set; }
        public string? ipoDate { get; set; }
        public bool isEtf { get; set; }
        public bool isActivelyTrading { get; set; }
        public string finalAddress => "Address: " + address + ", " + zip + " " + city + ", " + state + " " + country + ". Phone: " + phone;
    }

    public class BSReport
    {
        public DateTime Date { get; set; }
        public string? symbol { get; set; }
        public string? reportedCurrency { get; set; }
        public string? cik { get; set; }
        public string? fillingDate { get; set; }
        public string? acceptedDate { get; set; }
        public string? calendarYear { get; set; }
        public string? period { get; set; }
        public double cashAndCashEquivalents { get; set; }
        public double shortTermInvestments { get; set; }
        public double cashAndShortTermInvestments { get; set; }
        public double netReceivables { get; set; }
        public double inventory { get; set; }
        public double otherCurrentAssets { get; set; }
        public double totalCurrentAssets { get; set; }
        public double propertyPlantEquipmentNet { get; set; }
        public double goodwill { get; set; }
        public double intangibleAssets { get; set; }
        public double longTermInvestments { get; set; }
        public double totalAssets { get; set; }
        public double shortTermDebt { get; set; }
        public double otherCurrentLiabilities { get; set; }
        public double totalCurrentLiabilities { get; set; }
        public double longTermDebt { get; set; }
        public double otherNonCurrentLiabilities { get; set; }
        public double totalNonCurrentLiabilities { get; set; }
        public double otherLiabilities { get; set; }
        public double totalLiabilities { get; set; }
        public double retainedEarnings { get; set; }
        public double othertotalStockholdersEquity { get; set; }
        public double totalStockholdersEquity { get; set; }
        public double totalLiabilitiesAndStockholdersEquity { get; set; }
        public double totalEquity { get; set; }
        public double totalLiabilitiesAndTotalEquity { get; set; }
        public double totalInvestments { get; set; }
        public double totalDebt { get; set; }
        public double netDebt { get; set; }
        public string? link { get; set; }
        public string? finalLink { get; set; }
    }
    
    public class CFReport
    {
        public DateTime Date { get; set; }
        public string? symbol { get; set; }
        public string? reportedCurrency { get; set; }
        public string? cik { get; set; }
        public string? fillingDate { get; set; }
        public string? acceptedDate { get; set; }
        public string? calendarYear { get; set; }
        public string? period { get; set; }
        public double netIncome { get; set; }
        public double depreciationAndAmortization { get; set; }
        public double deferredIncomeTax { get; set; }
        public double stockBasedCompensation { get; set; }
        public double changeInWorkingCapital { get; set; }
        public double accountsReceivables { get; set; }
        public double inventory { get; set; }
        public double accountsPayables { get; set; }
        public double otherWorkingCapital { get; set; }
        public double otherNonCashItems { get; set; }
        public double netCashProvidedByOperatingActivities { get; set; }
        public double investmentsInPropertyPlantAndEquipment { get; set; }
        public double acquisitionsNet { get; set; }
        public double purchasesOfInvestments { get; set; }
        public double salesMaturitiesOfInvestments { get; set; }
        public double otherInvestingActivites { get; set; }
        public double netCashUsedForInvestingActivites { get; set; }
        public double debtRepayment { get; set; }
        public double commonStockIssued { get; set; }
        public double commonStockRepurchased { get; set; }
        public double dividendsPaid { get; set; }
        public double otherFinancingActivites { get; set; }
        public double netCashUsedProvidedByFinancingActivities { get; set; }
        public double effectOfForexChangesOnCash { get; set; }
        public double netChangeInCash { get; set; }
        public double cashAtEndOfPeriod { get; set; }
        public double cashAtBeginningOfPeriod { get; set; }
        public double operatingCashFlow { get; set; }
        public double capitalExpenditure { get; set; }
        public double freeCashFlow { get; set; }
        public string? link { get; set; }
        public string? finalLink { get; set; }
    }

    private string StyleNumber(double orgNr)
    {
        double newVar = orgNr / 1000;
        string finalNr = newVar.ToString("n2");
        return finalNr;
    }
}